<header [class.scrolled]="isScrolled()" class="bg-blue-500 text-white p-4 text-center sticky top-0 z-50 shadow-md transition-colors w-full max-h-[70px]">
  <h1 [ngStyle]="{'transform': isScrolled() ? 'translateX(-43%)' : 'translateX(0)'}"
      class="text-2xl font-bold transition-all duration-300 cursor-pointer"
      (click)="goHome()"
  >
      {{ title }}
  </h1>
  <div class="flex items-center justify-end relative bottom-[35px]">
    <div class="relative w-64">
      <input
        #searchInput
        type="text"
        class="w-full border p-2 rounded focus-visible:outline-none"
        placeholder="Search for movies..."
        [formControl]="searchControl"
        (focus)="showDropdown = true"
        (blur)="showDropdown = false"
      />
      @if(movieService.suggestions.value()?.length && showDropdown) {
        <ul class="absolute w-full bg-white border mt-1 rounded shadow-lg max-h-[440px] overflow-y-scroll">
          @for (movie of movieService.suggestions.value(); track movie.id) {
            <li class="p-2 cursor-pointer hover:bg-gray-100 text-sky-700 border-b border-gray-100" (mousedown)="onSuggestionSelected(movie)">
              {{ movie.title }}
            </li>
          }
        </ul>
      }
    </div>
    <button
      mat-raised-button
      color="primary"
      class="ml-2"
      (click)="onSearch()"
    >
      Search
    </button>
  </div>
</header>

<main class="container mx-auto p-4">
  <router-outlet></router-outlet>
</main>

<footer class="bg-gray-800 text-white p-4 text-center">
  <p>&copy; 2025 Movie App. All rights reserved.</p>
</footer>